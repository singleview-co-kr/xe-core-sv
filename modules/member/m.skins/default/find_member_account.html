<load target="css/msignup.css" />
<block cond="$sSmsAuthPluginTitle">
    <script src="/modules/member/tpl/js/mobile_change_password.js"></script>
    <div class="hx h2"><h2>{$lang->cmd_find_id_with_mobile}</h2></div>
	<p style="margin:3px 10px;color:#666">{$lang->about_find_id_with_mobile}</p>
    <form action="./" class="ff">
        <input type="hidden" name="auth_key" id="auth_key" value="" />
        <input type="hidden" name="member_srl" id="member_srl" value="" />  
        <ul>
            <li>
                <label for="user_name_sms">{$lang->user_id}</label>
                <input type="text" name="user_name_sms" id="user_name_sms" required placeholder="{$lang->user_name}" title="{$lang->user_name}" />
            </li>
            <li>
                <label for="mobile_user_id">{$lang->mobile}</label>
                <input type="text" name="mobile_user_id" id="mobile_user_id" required placeholder="{$lang->mobile}" title="{$lang->mobile}" onkeyup="onlyNumberCheck(this)" /> 
            </li>
        </ul>
        <div class="bna">
            <input type="button" class="btn dark" style="background: -webkit-linear-gradient(top,#7e7c78,#5c5b58); background-color: #777; color:#fff" onClick="requestSmsAuth('find_id');" value="{$lang->cmd_request_auth_sms}" />
        </div>
    </form>
    <form action="./" class="ff">
        <ul>
            <li>
                <label for="sms_phrase_user_id">{$lang->sms_phrase}</label>
                <input type="text" name="sms_phrase_user_id" id="sms_phrase_user_id" placeholder="{$lang->sms_phrase}" title="{$lang->sms_phrase}" /> 
            </li>
        </ul>
        <div class="bna">
            <input type="button" class="btn dark" style="background: -webkit-linear-gradient(top,#7e7c78,#5c5b58); background-color: #777; color:#fff" onClick="validateSmsAuth('find_id');" value="{$lang->cmd_confirm_auth_sms}" />
        </div>
    </form>
    <form action="./" class="ff" id='reveal_user_id' STYLE='display: none;'>
        <div class="bna">
            귀하의 회원 아이디는 <b id="user_id_revealed"></b> 입니다.
        </div>
    </form>

    <div class="hx h2"><h2>{$lang->cmd_reset_pw_with_mobile}</h2></div>
	<p style="margin:3px 10px;color:#666">{$lang->about_reset_pw_with_mobile}</p>
    <form action="./" class="ff">
        <input type="hidden" name="auth_key" id="auth_key" value="" />
        <input type="hidden" name="member_srl" id="member_srl" value="" />  
        <ul>
            <li>
                <label for="user_id_sms">{$lang->user_id}</label>
                <input type="text" name="user_id_sms" id="user_id_sms" required placeholder="{$lang->user_id}" title="{$lang->user_id}" />
            </li>
            <li>
                <label for="mobile_pw_rst">{$lang->mobile}</label>
                <input type="text" name="mobile_pw_rst" id="mobile_pw_rst" required placeholder="{$lang->mobile}" title="{$lang->mobile}" onkeyup="onlyNumberCheck(this)" /> 
            </li>
        </ul>
        <div class="bna">
            <input type="button" class="btn dark" style="background: -webkit-linear-gradient(top,#7e7c78,#5c5b58); background-color: #777; color:#fff" onClick="requestSmsAuth('reset_pw');" value="{$lang->cmd_request_auth_sms}" />
        </div>
    </form>
    <form action="./" class="ff">
        <ul>
            <li>
                <label for="sms_phrase_pw_rst">{$lang->sms_phrase}</label>
                <input type="text" name="sms_phrase_pw_rst" id="sms_phrase_pw_rst" placeholder="{$lang->sms_phrase}" title="{$lang->sms_phrase}" /> 
            </li>
        </ul>
        <div class="bna">
            <input type="button" class="btn dark" style="background: -webkit-linear-gradient(top,#7e7c78,#5c5b58); background-color: #777; color:#fff" onClick="validateSmsAuth('reset_pw');" value="{$lang->cmd_confirm_auth_sms}" />
        </div>
    </form>
    <form action="./" class="ff" id='reset_password' STYLE='display: none;'>
        <ul>
            <li>
                <label for="password_1">{$lang->password}</label>
                <input type="password" name="password_1" id="password_1" placeholder="{$lang->password}" title="{$lang->password}" /> 
            </li>
            <li>
                <label for="password_2">{$lang->password3}</label>
                <input type="password" name="password_2" id="password_2" placeholder="{$lang->password3}" title="{$lang->password3}" /> 
            </li>
        </ul>
        <div class="bna">
            <input type="button" class="btn dark" style="background: -webkit-linear-gradient(top,#7e7c78,#5c5b58); background-color: #777; color:#fff" onClick="changePassword();" value="{$lang->cmd_modify_member_password}" />
        </div>
    </form>
</block>

<div class="hx h2"><h2>{$lang->cmd_find_member_account_with_email}</h2></div>
<div cond="$XE_VALIDATOR_MESSAGE && $XE_VALIDATOR_ID == 'modules/member/m.skin/default/find_member_account/1'" class="message {$XE_VALIDATOR_MESSAGE_TYPE}">
	<p>{$XE_VALIDATOR_MESSAGE}</p>
</div>
<form action="./" ruleset="findAccount" method="post" class="ff">
	<input type="hidden" name="module" value="member" />
	<input type="hidden" name="act" value="procMemberFindAccount" />
	<input type="hidden" name="mid" value="{$mid}" />
	<input type="hidden" name="document_srl" value="{$document_srl}" />
	<input type="hidden" name="page" value="{$page}" />
	<input type="hidden" name="success_return_url" value="{getUrl('act', 'dispMemberFindAccount')}" />
	<input type="hidden" name="xe_validator_id" value="modules/member/m.skin/default/find_member_account/1" />
	<ul>
		<li>
			<label for="email_address1">{$lang->email_address}</label>
			<input id="email_address1" type="email" name="email_address" />
		</li>
	</ul>
	<div class="bna">
		<input type="submit" class="bn dark" value="{$lang->cmd_send_mail}" />
	</div>
</form>
<block cond="count($lang->find_account_question_items)>1">
	<div class="hx h2"><h2>{$lang->cmd_find_member_account_with_email_question}</h2></div>
	<p style="margin:3px 10px;color:#666">{$lang->about_find_account_question}</p>

	<div cond="$XE_VALIDATOR_MESSAGE && $XE_VALIDATOR_ID == 'modules/member/m.skin/default/find_member_account/2'" class="message {$XE_VALIDATOR_MESSAGE_TYPE}">
		<p>{$XE_VALIDATOR_MESSAGE}</p>
	</div>

	<form action="./" method="post" class="ff" ruleset="@find_member_account_by_question">
		<input type="hidden" name="module" value="member" />
		<input type="hidden" name="mid" value="{$mid}" />
		<input type="hidden" name="document_srl" value="{$document_srl}" />	
		<input type="hidden" name="act" value="procMemberFindAccountByQuestion" />
		<input type="hidden" name="success_return_url" value="{getUrl('', 'act', 'dispMemberGetTempPassword')}" />
		<input type="hidden" name="page" value="{$page}" />
		<input type="hidden" name="xe_validator_id" value="modules/member/m.skin/default/find_member_account/2" />
		<ul>
			<li cond="$identifier == 'user_id'">
				<label for="user_id2">{$lang->user_id}</label>
				<input type="text" name="user_id" id="user_id2" />
			</li>
			<li>
				<label for="email_address2">{$lang->email_address}</label>
				<input type="email" name="email_address" id="email_address2" />
			</li>
			<li>
				<label for="question">{$lang->find_account_question}</label>
				<select id="question" name="find_account_question" style="width:290px;display:block;">
				<!--@for($i=1,$c=count($lang->find_account_question_items);$i<=$c;$i++)-->
					<option value="{$i}">{$lang->find_account_question_items[$i]}</option>
				<!--@end-->
				</select>
				<input type="text" name="find_account_answer" value="" />
			</li>
		</ul>
		<div class="bna">
			<input type="submit" class="bn dark" value="{$lang->cmd_get_temp_password}" />
		</div>
	</form>
</block>
