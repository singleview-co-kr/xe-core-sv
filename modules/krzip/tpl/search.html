<load target="css/postcodify.css" />
<load target="js/postcodify.js" />
<?php $krzip = Context::get('krzip'); ?>

<div id="postcodify_{$krzip->instance_id}" class="postcodify_address_area"
 	data-server-url="{$krzip->server_url}"
 	data-map-provider="{$krzip->map_provider}"
 	data-address-format="{$krzip->address_format}"
 	data-postcode-format="{$krzip->postcode_format}"
 	data-server-request-format="{$krzip->server_request_format}"
 	data-require-exact-query="{$krzip->require_exact_query}"
 	data-use-full-jibeon="{$krzip->use_full_jibeon}">
    
    <!--@if(strncmp($krzip->address_format, 'oldkrzip', 8) !== 0)-->
    <input type="text" class="postcodify postcode" id="postcodify_{$krzip->instance_id}_postcode" name="{$krzip->column_name}[]" value="{$krzip->values[0]}" data-origin-value="{$krzip->values[0]}" readonly="readonly"|cond="!$krzip->values[0]" placeholder="{$lang->krzip_postal_code}" />
    <!--@else-->
    <input type="text" class="postcodify postcode" id="postcodify_{$krzip->instance_id}_postcode" value="{$krzip->values[0]}" data-origin-value="{$krzip->values[0]}" readonly="readonly" placeholder="{$lang->krzip_postal_code}" />
    <!--@end-->
    <label class="postcodify postcode" for="postcodify_{$krzip->instance_id}_postcode">{$lang->krzip_postal_code}</label>
    <button type="button" class="btn postcodify_search_button" data-not-loaded-yet="{$lang->krzip_postcodify_not_loaded_yet}">{$lang->cmd_search}</button>
    <br />
    
    <div class="postcodify_hidden_fields"|cond="!$krzip->values[1] && !$krzip->values[2] && !$krzip->values[3]">
        
        <!--@if($krzip->address_format === 'newkrzip')-->
        
        <input type="text" class="postcodify postcodify_address" id="postcodify_{$krzip->instance_id}_address" name="{$krzip->column_name}[]" value="{$krzip->values[1]}" data-origin-value="{$krzip->values[1]}" />
        <label class="postcodify postcodify_address" for="postcodify_{$krzip->instance_id}_address">{$lang->krzip_road_address}</label>
        <br />
        
        <input type="text" class="postcodify postcodify_jibeon_address" id="postcodify_{$krzip->instance_id}_jibeon_address" name="{$krzip->column_name}[]" value="{$krzip->values[4]}" data-origin-value="{$krzip->values[4]}" />
        <label class="postcodify postcodify_jibeon_address" for="postcodify_{$krzip->instance_id}_jibeon_address">{$lang->krzip_jibeon_address}</label>
        <br />
        
        <input type="text" class="postcodify postcodify_details" id="postcodify_{$krzip->instance_id}_details" name="{$krzip->column_name}[]" value="{$krzip->values[2]}" data-origin-value="{$krzip->values[2]}" />
        <label class="postcodify postcodify_details" for="postcodify_{$krzip->instance_id}_details">{$lang->krzip_details}</label>
        <br />
        
        <input type="text" class="postcodify postcodify_extra_info" id="postcodify_{$krzip->instance_id}_extra_info" name="{$krzip->column_name}[]" value="{$krzip->values[3]}" data-origin-value="{$krzip->values[3]}" />
        <label class="postcodify postcodify_extra_info" for="postcodify_{$krzip->instance_id}_extra_info">{$lang->krzip_extra_info}</label>
        <br />
        
        <!--@elseif($krzip->address_format === 'oldkrzip3')-->
        
        <input type="text" class="postcodify postcodify_address current_address" id="postcodify_{$krzip->instance_id}_address" name="{$krzip->column_name}[]" value="{$krzip->values[1]}" data-origin-value="{$krzip->values[1]}" />
        <label class="postcodify postcodify_address" for="postcodify_{$krzip->instance_id}_address">{$lang->krzip_road_address}</label>
        <br />
        
        <input type="text" class="postcodify postcodify_details" id="postcodify_{$krzip->instance_id}_details" name="{$krzip->column_name}[]" value="{$krzip->values[2]}" data-origin-value="{$krzip->values[2]}" />
        <label class="postcodify postcodify_details" for="postcodify_{$krzip->instance_id}_details">{$lang->krzip_details}</label>
        <br />
        
        <input type="text" class="postcodify postcodify_extra_info" id="postcodify_{$krzip->instance_id}_extra_info" name="{$krzip->column_name}[]" value="{$krzip->values[3]} ({$krzip->values[0]})" data-origin-value="{$krzip->values[3]} ({$krzip->values[0]})" />
        <label class="postcodify postcodify_extra_info" for="postcodify_{$krzip->instance_id}_extra_info">{$lang->krzip_extra_info}</label>
        <br />
        
        <!--@elseif($krzip->address_format === 'oldkrzip2')-->
        
        <input type="text" class="postcodify postcodify_address current_address" id="postcodify_{$krzip->instance_id}_address" name="{$krzip->column_name}[]" value="{$krzip->values[1]} {$krzip->values[3]} ({$krzip->values[0]})" data-origin-value="{$krzip->values[1]} {$krzip->values[3]} ({$krzip->values[0]})" />
        <label class="postcodify postcodify_address" for="postcodify_{$krzip->instance_id}_address">{$lang->krzip_road_address}</label>
        <br />
        
        <input type="text" class="postcodify postcodify_details" id="postcodify_{$krzip->instance_id}_details" name="{$krzip->column_name}[]" value="{$krzip->values[2]}" data-origin-value="{$krzip->values[2]}" />
        <label class="postcodify postcodify_details" for="postcodify_{$krzip->instance_id}_details">{$lang->krzip_details}</label>
        <input type="hidden" class="postcodify postcodify_extra_info" id="postcodify_{$krzip->instance_id}_extra_info" value="" />
        <br />
        
        <!--@else-->
        
        <!--@if($krzip->display_address === 'Y')-->
        <input type="text" class="postcodify postcodify_address" id="postcodify_{$krzip->instance_id}_address" name="{$krzip->column_name}[]" value="{$krzip->values[1]}" data-origin-value="{$krzip->values[1]}" />
        <label class="postcodify postcodify_address" for="postcodify_{$krzip->instance_id}_address">{$lang->krzip_road_address}</label>
        <br />
        <!--@end-->
        
        <!--@if($krzip->display_details === 'Y')-->
        <input type="text" class="postcodify postcodify_details" id="postcodify_{$krzip->instance_id}_details" name="{$krzip->column_name}[]" value="{$krzip->values[2]}" data-origin-value="{$krzip->values[2]}" />
        <label class="postcodify postcodify_details" for="postcodify_{$krzip->instance_id}_details">{$lang->krzip_details}</label>
        <br />
        <!--@end-->
        
        <!--@if($krzip->display_extra_info === 'Y')-->
        <input type="text" class="postcodify postcodify_extra_info" id="postcodify_{$krzip->instance_id}_extra_info" name="{$krzip->column_name}[]" value="{$krzip->values[3]}" data-origin-value="{$krzip->values[3]}" />
        <label class="postcodify postcodify_extra_info" for="postcodify_{$krzip->instance_id}_extra_info">{$lang->krzip_extra_info}</label>
        <br />
        <!--@end-->
        
        <!--@if($krzip->display_jibeon_address === 'Y')-->
        <input type="text" class="postcodify postcodify_jibeon_address" id="postcodify_{$krzip->instance_id}_jibeon_address" name="{$krzip->column_name}[]" value="{$krzip->values[4]}" data-origin-value="{$krzip->values[4]}" />
        <label class="postcodify postcodify_jibeon_address" for="postcodify_{$krzip->instance_id}_jibeon_address">{$lang->krzip_jibeon_address}</label>
        <br />
        <!--@end-->
        
        <!--@end-->
        
    </div>

</div>
